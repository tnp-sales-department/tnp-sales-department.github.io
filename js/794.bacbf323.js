"use strict";(self["webpackChunksales_tnp_vue"]=self["webpackChunksales_tnp_vue"]||[]).push([[794],{82794:function(t,e,l){l.r(e),l.d(e,{default:function(){return q}});var a=l(56768),s=l(24232);const i={class:"cargo-calculations-container"},o={class:"my-calculate-form"},n={class:"inputs"},r={key:1,class:"results"},d={class:"optimal-result"},c={class:"best-wrapper"},h={class:"wrapper"},u={class:"data"},b={class:"wrapper"},g={class:"data"},p={class:"wrapper"},v={class:"data"},L={class:"wrapper"},k={class:"data"},y={class:"wrapper"},m={class:"data"},x={class:"wrapper"},f={class:"data"},W={class:"wrapper"},w={class:"data"},H={class:"all-result-count"},_={class:"variant"},V={class:"variant-logo"},C={class:"best-wrapper"},P={class:"wrapper"},F={class:"data"},M={class:"wrapper"},R={class:"data"},E={class:"wrapper"},$={class:"data"},I={class:"wrapper"},U={class:"data"},B={class:"wrapper"},X={class:"data"},D={class:"wrapper"},S={class:"data"},O={class:"wrapper"},Q={class:"data"};function z(t,e,l,z,A,K){const j=(0,a.g2)("v-divider"),q=(0,a.g2)("v-number-input"),G=(0,a.g2)("v-btn"),J=(0,a.g2)("v-icon");return(0,a.uX)(),(0,a.CE)("div",i,[e[24]||(e[24]=(0,a.Lk)("h2",null,"Расчёт количества коробок на паллете",-1)),(0,a.bF)(j),(0,a.Lk)("div",o,[(0,a.Lk)("div",n,[(0,a.bF)(q,{class:"max-pallet-height inpt",density:"compact",reverse:!1,controlVariant:"split",label:"Высота палеты (мм)",hideInput:!1,inset:!1,precision:2,variant:"solo-filled",clearable:"",modelValue:A.maxPalletHeight,"onUpdate:modelValue":e[0]||(e[0]=t=>A.maxPalletHeight=t)},null,8,["modelValue"]),(0,a.bF)(q,{class:"box-length inpt",density:"compact",reverse:!1,controlVariant:"split",label:"Длинна коробки (мм)",hideInput:!1,inset:!1,precision:2,variant:"solo-filled",clearable:"",modelValue:A.boxLength,"onUpdate:modelValue":e[1]||(e[1]=t=>A.boxLength=t)},null,8,["modelValue"]),(0,a.bF)(q,{class:"box-width inpt",density:"compact",reverse:!1,controlVariant:"split",label:"Ширина коробки (мм)",hideInput:!1,inset:!1,precision:2,variant:"solo-filled",clearable:"",modelValue:A.boxWidth,"onUpdate:modelValue":e[2]||(e[2]=t=>A.boxWidth=t)},null,8,["modelValue"]),(0,a.bF)(q,{class:"box-height inpt",density:"compact",reverse:!1,controlVariant:"split",label:"Высота коробки (мм)",hideInput:!1,inset:!1,precision:2,variant:"solo-filled",clearable:"",modelValue:A.boxHeight,"onUpdate:modelValue":e[3]||(e[3]=t=>A.boxHeight=t)},null,8,["modelValue"]),(0,a.bF)(q,{class:"box-weight inpt",density:"compact",reverse:!1,controlVariant:"split",label:"Вес коробки (кг)",hideInput:!1,inset:!1,precision:2,variant:"solo-filled",clearable:"",modelValue:A.boxWeight,"onUpdate:modelValue":e[4]||(e[4]=t=>A.boxWeight=t)},null,8,["modelValue"])]),(0,a.bF)(G,{class:"apply-calculations",color:"green-darken-1",onClick:K.checkFields},{default:(0,a.k6)((()=>e[5]||(e[5]=[(0,a.eW)("Расчитать")]))),_:1},8,["onClick"]),(0,a.bF)(G,{class:"apply-calculations",color:"pink-accent-3",onClick:K.clearCalculations},{default:(0,a.k6)((()=>e[6]||(e[6]=[(0,a.eW)("Очистить")]))),_:1},8,["onClick"])]),A.isCalculated?((0,a.uX)(),(0,a.Wv)(j,{key:0})):(0,a.Q3)("",!0),A.isCalculated?((0,a.uX)(),(0,a.CE)("div",r,[e[22]||(e[22]=(0,a.Lk)("h4",{class:"optimal-title"},"ОПТИМАЛЬНЫЙ ВАРИАНТ УКЛАДКИ",-1)),(0,a.Lk)("div",d,[(0,a.Lk)("div",c,[(0,a.Lk)("div",h,[e[7]||(e[7]=(0,a.Lk)("div",{class:"info"},"Ориентация:",-1)),(0,a.Lk)("div",u,(0,s.v_)(this.bestResult.best.orientation),1)]),(0,a.Lk)("div",b,[e[8]||(e[8]=(0,a.Lk)("div",{class:"info"},"Стабильность:",-1)),(0,a.Lk)("div",g,(0,s.v_)(this.bestResult.best.stability),1)]),(0,a.Lk)("div",p,[e[9]||(e[9]=(0,a.Lk)("div",{class:"info"},"Ящиков в слое:",-1)),(0,a.Lk)("div",v,(0,s.v_)(this.bestResult.best.boxesPerLayer)+" ("+(0,s.v_)(this.bestResult.best.layerDetails)+")",1)]),(0,a.Lk)("div",L,[e[10]||(e[10]=(0,a.Lk)("div",{class:"info"},"Количество слоев:",-1)),(0,a.Lk)("div",k,(0,s.v_)(this.bestResult.best.layers),1)]),(0,a.Lk)("div",y,[e[11]||(e[11]=(0,a.Lk)("div",{class:"info"},"Всего ящиков на паллете:",-1)),(0,a.Lk)("div",m,(0,s.v_)(this.bestResult.best.totalBoxes)+" шт.",1)]),(0,a.Lk)("div",x,[e[12]||(e[12]=(0,a.Lk)("div",{class:"info"},"Общий вес паллеты:",-1)),(0,a.Lk)("div",f,(0,s.v_)(this.bestResult.best.totalWeight)+" кг",1)]),(0,a.Lk)("div",W,[e[13]||(e[13]=(0,a.Lk)("div",{class:"info"},"Итоговая высота:",-1)),(0,a.Lk)("div",w,(0,s.v_)(this.bestResult.best.totalHeight)+" мм",1)])])]),e[23]||(e[23]=(0,a.Lk)("h4",{class:"all-title"},"ВСЕ ВАРИАНТЫ (по убыванию эффективности)",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(A.allResults,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{class:"all-result",key:l},[(0,a.Lk)("div",H,[(0,a.Lk)("div",_,"# "+(0,s.v_)(l+1),1),(0,a.Lk)("div",V,[(0,a.bF)(J,{color:"высокая"===t.stability?"green":"средняя"===t.stability?"orange":"низкая"===t.stability?"red":"grey",size:"large"},{default:(0,a.k6)((()=>e[14]||(e[14]=[(0,a.eW)("mdi-checkbox-marked-circle")]))),_:2},1032,["color"])])]),(0,a.Lk)("div",C,[(0,a.Lk)("div",P,[e[15]||(e[15]=(0,a.Lk)("div",{class:"info"},"Ориентация:",-1)),(0,a.Lk)("div",F,(0,s.v_)(t.orientation),1)]),(0,a.Lk)("div",M,[e[16]||(e[16]=(0,a.Lk)("div",{class:"info"},"Стабильность:",-1)),(0,a.Lk)("div",R,(0,s.v_)(t.stability),1)]),(0,a.Lk)("div",E,[e[17]||(e[17]=(0,a.Lk)("div",{class:"info"},"Ящиков в слое:",-1)),(0,a.Lk)("div",$,(0,s.v_)(t.boxesPerLayer)+" ("+(0,s.v_)(t.layerDetails)+")",1)]),(0,a.Lk)("div",I,[e[18]||(e[18]=(0,a.Lk)("div",{class:"info"},"Количество слоев:",-1)),(0,a.Lk)("div",U,(0,s.v_)(t.layers),1)]),(0,a.Lk)("div",B,[e[19]||(e[19]=(0,a.Lk)("div",{class:"info"},"Всего ящиков на паллете:",-1)),(0,a.Lk)("div",X,(0,s.v_)(t.totalBoxes)+" шт.",1)]),(0,a.Lk)("div",D,[e[20]||(e[20]=(0,a.Lk)("div",{class:"info"},"Общий вес паллеты:",-1)),(0,a.Lk)("div",S,(0,s.v_)(t.totalWeight)+" кг",1)]),(0,a.Lk)("div",O,[e[21]||(e[21]=(0,a.Lk)("div",{class:"info"},"Итоговая высота:",-1)),(0,a.Lk)("div",Q,(0,s.v_)(t.totalHeight)+" мм",1)])])])))),128))])):(0,a.Q3)("",!0)])}l(44114),l(98992),l(54520),l(3949),l(81454);var A={name:"LibraryComponent",data(){return{maxPalletHeight:null,boxLength:null,boxWidth:null,boxHeight:null,boxWeight:null,allowUnstable:!1,isCalculated:!1,calculationsResult:"",bestResult:{},allResults:[]}},methods:{checkFields(){this.maxPalletHeight&&this.boxLength&&this.boxWidth&&this.boxHeight&&this.boxWeight?this.calculate():console.log("error")},calculate(){const t={length:1200,width:800,height:150};function e(e,l){const a={alongLength:Math.floor(t.length/e),alongWidth:Math.floor(t.width/l)};a.total=a.alongLength*a.alongWidth;const s={alongLength:Math.floor(t.length/l),alongWidth:Math.floor(t.width/e)};return s.total=s.alongLength*s.alongWidth,a.total>=s.total?{total:a.total,alongLength:a.alongLength,alongWidth:a.alongWidth,details:`${a.alongLength} × ${a.alongWidth}`}:{total:s.total,alongLength:s.alongLength,alongWidth:s.alongWidth,details:`${s.alongLength} × ${s.alongWidth}`}}function l(l,a){const s=[],i=e(l,a);s.push({...i,type:"simple"});const o=Math.floor(t.length/l),n=o*l,r=t.length-n;if(r>=a){const e=Math.floor(t.width/a),n=Math.floor(r/a),d=Math.floor(t.width/l),c=o*e+n*d;c>i.total&&s.push({total:c,alongLength:o,alongWidth:e,details:`${o}×${e} + ${n}×${d} поперек`,type:"combined"})}const d=Math.floor(t.width/a),c=d*a,h=t.width-c;if(h>=l){const e=Math.floor(t.length/l),o=Math.floor(h/l),n=Math.floor(t.length/a),r=e*d+n*o;r>i.total&&s.push({total:r,alongLength:e,alongWidth:d,details:`${e}×${d} + ${n}×${o} поперек`,type:"combined"})}return s.sort(((t,e)=>e.total-t.total)),s[0]}function a(t,e,a){const s=[],i=l(t,e);s.push({name:"combined"===i.type?"Стандартное комбинированное":"Стандартное",boxesPerLayer:i.total,layerHeight:a,details:i.details,stability:"высокая"});const o=l(t,a);s.push({name:"combined"===o.type?"На боку комбинированное (ширина вверх)":"На боку (ширина вверх)",boxesPerLayer:o.total,layerHeight:e,details:o.details,stability:"средняя"});const n=l(e,a);s.push({name:"combined"===n.type?"На боку комбинированное (длина вверх)":"На боку (длина вверх)",boxesPerLayer:n.total,layerHeight:t,details:n.details,stability:"низкая"});const r=l(a,e);s.push({name:"combined"===r.type?"Перевернутый комбинированное (длина вверх)":"Перевернутый (длина вверх)",boxesPerLayer:r.total,layerHeight:t,details:r.details,stability:"низкая"});const d=l(a,t);return s.push({name:"combined"===d.type?"Перевернутый комбинированное (ширина вверх)":"Перевернутый (ширина вверх)",boxesPerLayer:d.total,layerHeight:e,details:d.details,stability:"средняя"}),s}function s(e,l,s,i,o,n=!1){const r=e-t.height,d=a(l,s,i),c=n?d:d.filter((t=>"низкая"!==t.stability));let h=null,u=0;c.forEach((e=>{const l=Math.floor(r/e.layerHeight);if(l>0){const a=e.boxesPerLayer*l;a>u&&(u=a,h={orientation:e.name,boxesPerLayer:e.boxesPerLayer,layerDetails:e.details,layers:l,totalBoxes:a,totalWeight:(a*o).toFixed(2),layerHeight:e.layerHeight,totalHeight:(t.height+l*e.layerHeight).toFixed(0),stability:e.stability})}}));const b=c.map((e=>{const l=Math.floor(r/e.layerHeight),a=e.boxesPerLayer*l;return{orientation:e.name,boxesPerLayer:e.boxesPerLayer,layerDetails:e.details,layers:l,totalBoxes:a,totalWeight:(a*o).toFixed(2),layerHeight:e.layerHeight,totalHeight:l>0?(t.height+l*e.layerHeight).toFixed(0):0,stability:e.stability}})).sort(((t,e)=>e.totalBoxes-t.totalBoxes));return{best:h,allOptions:b}}let i=s(this.maxPalletHeight,this.boxLength,this.boxWidth,this.boxHeight,this.boxWeight,this.allowUnstable);this.bestResult=i,this.allResults=i.allOptions,this.isCalculated=!0},clearCalculations(){this.isCalculated=!1,this.maxPalletHeight=null,this.boxLength=null,this.boxWidth=null,this.boxHeight=null,this.boxWeight=null},handleEnter(t){"Enter"===t.key?this.checkFields():"Escape"===t.key&&this.clearCalculations()}},mounted(){localStorage.setItem("checkLoadStatus","loaded"),document.addEventListener("keydown",this.handleEnter)},beforeUnmount(){localStorage.removeItem("checkLoadStatus"),document.removeEventListener("keydown",this.handleEnter)}},K=l(71241);const j=(0,K.A)(A,[["render",z],["__scopeId","data-v-6c1e7eda"]]);var q=j}}]);
//# sourceMappingURL=794.bacbf323.js.map